<?xml version='1.0'?> <!--*-nxml-*-->
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">

<refentry id="hirte-agent">

    <refentryinfo>
        <title>hirte-agent</title>
        <productname>hirte-agent</productname>

        <authorgroup>
            <author>
                <contrib></contrib>
                <firstname></firstname>
                <surname></surname>
                <email></email>
            </author>
        </authorgroup>
    </refentryinfo>

    <refmeta>
        <refentrytitle>hirte-agent</refentrytitle>
        <manvolnum>1</manvolnum>
    </refmeta>

    <refnamediv>
        <refname>hirte-agent</refname>
        <refpurpose>An agent in the hirte tool box</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
        <cmdsynopsis>
            <command>hirte-agent</command>
            <arg choice="opt" rep="repeat">OPTION</arg>
        </cmdsynopsis>
    </refsynopsisdiv>

    <refsect1>
        <title>Description</title>

        <para>
            Hirte is a service orchestrator tool intended for multi-node devices (e.g.: edge devices) clusters with a predefined number of nodes and
            with a focus on highly regulated environment such as those requiring functional safety (for example in cars).
        </para>
        <para>
            A hirte-agent establishes a peer-to-peer connection to hirte and exposes its API to manage systemd units on it.
        </para>

    </refsect1>

    <refsect1>
        <title>Options</title>

        <para>
            The following options are understood.
        </para>

        <variablelist>
            <varlistentry>
                <term>
                    <option>-h</option>
                </term>
                <term>
                    <option>--help</option>
                </term>

                <listitem>
                    <para>
                        Show help options and exit.
                    </para>
                </listitem>
            </varlistentry>

            <varlistentry>
                <term>
                    <option>-H</option>
                </term>
                <term>
                    <option>--host</option>
                </term>

                <listitem>
                    <para>
                        The host on which hirte is listening for and setting up connections with hirte-agents. This option will overwrite the host
                        defined in the configuration file.
                    </para>
                </listitem>
            </varlistentry>

            <varlistentry>
                <term>
                    <option>-p</option>
                </term>
                <term>
                    <option>--port</option>
                </term>

                <listitem>
                    <para>
                        The port on which hirte is listening for and setting up connections with hirte-agents. This option will overwrite the port
                        defined in the configuration file.
                    </para>
                </listitem>
            </varlistentry>

            <varlistentry>
                <term>
                    <option>-n</option>
                </term>
                <term>
                    <option>--name</option>
                </term>

                <listitem>
                    <para>
                        The unique name of this hirte-agent uses for registering at the hirte manager. This option will overwrite the port defined in
                        the configuration file.
                    </para>
                </listitem>
            </varlistentry>

            <varlistentry>
                <term>
                    <option>-c</option>
                </term>
                <term>
                    <option>--config</option>
                </term>

                <listitem>
                    <para>
                        Path to the configuration file
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
    </refsect1>

    <refsect1>
        <title>File formats</title>

        <para>File formats that are used by hirte-agent:</para>

        <variablelist>
            <varlistentry>
                <term>
                    <citerefentry>
                        <refentrytitle>hirte-agent-config</refentrytitle>
                        <manvolnum>5</manvolnum>
                    </citerefentry>
                </term>

                <listitem>
                    <para>
                        Configuration file for bootstrapping the hirte-agent.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
    </refsect1>

    <refsect1>
        <title>Environment</title>

        <para>
            The following environment variables are used by hirte-agent. These are overriding the settings from the configuration file as well as the
            CLI options.
        </para>

        <variablelist>
            <varlistentry>
                <term>
                    <envar>HIRTE_LOG_LEVEL</envar>
                </term>

                <listitem>
                    <para> The level used for logging. Supported values are: </para>
                    <para>
                        <option>DEBUG</option>, <option>INFO</option>, <option>WARN</option>, <option>ERROR</option>
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <envar>HIRTE_LOG_TARGET</envar>
                </term>

                <listitem>
                    <para> The target where logs are written to. Supported values are: </para>
                    <para>
                        <option>stderr</option> , <option>journald</option>
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <envar>HIRTE_LOG_IS_QUIET</envar>
                </term>

                <listitem>
                    <para> If true, this flag prevents any logs to be written. </para>
                </listitem>
            </varlistentry>
        </variablelist>
    </refsect1>

    <refsect1>
        <title>See also</title>

        <para>
            <citerefentry>
                <refentrytitle>hirte-agent-config</refentrytitle>
                <manvolnum>5</manvolnum>
            </citerefentry>
        </para>
    </refsect1>

</refentry>